<div class="shop">
	<div class="clearfix">
		<h2 class="shop-header">
			Our products:
		</h2>
		<button class="shop-show-filter" ng-click="$ctrl.showFilter = !$ctrl.showFilter">
			{{ ($ctrl.showFilter) ? 'Hide filter' : 'Show filter' }}
		</button>
	</div>

	<filtering  ng-if="$ctrl.showFilter"></filtering>

	<h2>{{results.length}}</h2>

	<ul class="shop-list">
		<li ng-repeat="
			product in filteredResults = (
				$ctrl.products
					| category: $ctrl.filteringParams.categories 
					| filter: {name: $ctrl.filteringParams.productName}
					| orderBy: $ctrl.filteringParams.sortField : $ctrl.filteringParams.sortReverse 
				) | limitTo : $ctrl.limit
			">
			<product product-obj="product"></product>
		</li>
	</ul>

	<button class="shop-show-more" ng-click="$ctrl.showMore()" ng-if="$ctrl.limit <= filteredResults.length">Show more</button>
</div>